<!DOCTYPE html>

<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<title>Cena</title>

		<link rel="stylesheet" type="text/css" href="https://meyerweb.com/eric/tools/css/reset/reset.css">
		<!-- <link rel="stylesheet" type="text/css" href="assets/css/login.css"> -->
		<style type="text/css">
			.server {
				display: float;
				border: 1px solid blue;
				width: 200px;
				height: 200px;
				margin-left: 30px;
				margin-bottom: 20px;
			}

			.customer {
				border: 1px solid red;
				width: 200px;
				height: 200px;
				margin-left: 30px;
			}

			img {
				height: 200px;
				width: 200px;
			}

		</style>
	</head>
	<body>
		<div class='phrases'>
          <label for='phrase'>Phrases</label>
          <select id='phrase' name='phrase'>
          	<option value="" disabled selected>Select your option</option>
            <option class="greeting" value='greeting'>Greeting</option>
            <option value='order'>Food</option>
            <option value='bathroom'>Bathroom</option>
            <option value='bye'>Bye</option>
          </select>
        </div>

		<div class='server'></div>
		<div class='customer'></div>

		<img src="assets/images/restaurant.svg">

		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
		<script type="text/javascript">
			// $('body').css('background-image', "url('/assets/images/thai-background.jpg')");
			var state={}
			generic()
			var country = 'thai'

			$('#phrase').on('change', runPhrase);
			// //each option on the dropdown menu will trigger a new function
			function runPhrase() {

				var selectedOption = document.getElementById("phrase").value;
				$('.server').text(state.res[selectedOption].eng_server);
				$('.server').append(state.res[selectedOption][`${country}_server`]);
		  //   	if (selectedOption == 'greeting') {
		  //   		greetingPhrase();
				// } else if (selectedOption == 'food') {
				// 	foodPhrase();
				// } 

			}


			function generic() {
				$.ajax({
					url: '/generic',
					method: 'GET'
				}).then(function(res){
					console.log(res)
					state.res = res

					// function serverEng() {
					// 	$('.server').text(res[0].eng_server);
					// 	$('.server').append(res[0].thai_server);

					// }

					// function customerEng() {
					// 	$('.customer').text(res[0].eng_cust);
					// }
					// serverEng();
					// setTimeout(customerEng, 1000);
				})
			}		


			function greetingPhrase() {
				$.ajax({
					url: '/greeting',
					method: 'GET'
				}).then(function(res){
					console.log(res)
					state.res = res

					function serverEng() {
						$('.server').text(res[0].eng_server);
						$('.server').append(res[0].thai_server);

					}

					function customerEng() {
						$('.customer').text(res[0].eng_cust);
					}
					serverEng();
					setTimeout(customerEng, 1000);
				})
			}		

			function foodPhrase() {
				$.ajax({
					url: '/food',
					method: 'GET'
				}).then(function(res) {
					$('.server').text(res[1].eng_server);
					$('.customer').text(res[1].eng_cust);
				})
			}


			function translatePhrase() {


			}











		</script>
	</body>
</html>
